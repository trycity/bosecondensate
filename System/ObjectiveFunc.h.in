/**
 *@file ObjectiveFunc.h
 *
 *@author ikhan
 */

#ifndef _OBJECTIVEFUNC_H
#define _OBJECTIVEFUNC_H

#include "Metropolis_Walker/VMCMetropolisWalker.h"
#include "Configurations/JastrowConfig.h"
#include "Wavefunctions/Phi.h"
#include "Wavefunctions/InteractionF.h"
#include "Energy_Terms/localE.h"
#include "Energy_Terms/localESqd.h"

namespace QMC
{
   class ObjectiveFunc
   {
   public:
     ObjectiveFunc(const Phi& phi, const InteractionF& intF,
		   const localE& locE, const localESqd& locESqd,
		   double radius, unsigned NAtoms, unsigned nRuns, unsigned nSteps);
     ~ObjectiveFunc();

     void run();
     void setVariationParams(double param1, double param2);
     double getVariance();

   private:
     VMCMetropolisWalker m_Walker;
     JastrowConfig m_Config;
     double m_Radius;
     unsigned m_NParticles;
     unsigned m_NRuns;
     unsigned m_NSteps;
     double m_Param1;
     double m_Param2;
     double m_Variance;
};

#endif
