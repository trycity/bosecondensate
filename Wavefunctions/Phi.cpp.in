// Phi.cpp


#include "Phi.h"
#include "HomogeneousPhi.h"
#include "SymHoPhi.h"
#include "@BUILD_DIR@/Utilities/StringUtilities.h"

using namespace QMC;

namespace{
	//There has to be a better way of doing this...
	HomogeneousPhi homPhi;
	SymHoPhi symPhi;
};

Phi::Phi(::std::string TypeOfPhi):m_TypeOfPhi(TypeOfPhi)
{
}

Phi::~Phi()
{
}

void Phi::setVariationParams(const ArgType& args)
{
	if(m_TypeOfPhi == "SymHoPhi")
	{
		double alpha = convertFromString<double>(args[0]);
		symPhi.setAlpha(alpha);
	}
}

double Phi::operator()(const VMCPoint& x)const
{
	double P=1.0;
	if(m_TypeOfPhi == "SymHoPhi")
	{
		P = symPhi(x);
	}	
	
	return P;
}
